<!DOCTYPE html>
<html>
  <head>
    <title>Restaurant Menu</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather|Montserrat|Sacramento"
      rel="stylesheet"
    />
    <link rel="icon" href="img/favicon.ico" />
    <style>
      /* Custom color theme */
      body {
        background-color: #f4e7d3;
        color: #2f4f4f;
      }
      .title-text {
        color: #004d4d;
      }
      .category-title {
        color: #004d4d;
        margin-top: 2rem;
      }
      .card-body h5 {
        color: #004d4d;
      }
      .text-accent {
        color: #ff6f61;
        font-size: 1.5em;
      }
      .card-img-top {
        height: 200px;
        object-fit: cover;
      }
      footer {
        background-color: #2f4f4f;
      }
      .extras {
        font-size: 1em;
        color: #555;
      }
      .extra-price {
        color: #ff6f61;
        font-size: 1em;
        font-weight: 500;
      }
      /* Sidebar styling */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 70%;
        width: 200px;
        background-color: #2f4f4f;
        padding-top: 20px;
        overflow-y: auto;
        z-index: 1000;
        transition: transform 0.3s ease;
      }
      .sidebar a {
        color: #f4e7d3;
        padding: 15px;
        text-decoration: none;
        font-size: 1.1em;
        display: block;
      }
      .sidebar a:hover {
        background-color: #555;
        color: #ffffff;
      }
      /* Toggle button */
      .sidebar-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1100;
        background-color: #2f4f4f;
        border-radius: 10px;
        color: #f4e7d3;
        border: none;
        padding: 10px 15px;
        font-size: 1em;
        cursor: pointer;
        display: none;
      }
      /* Sidebar hidden on mobile */
      .sidebar.hidden {
        transform: translateX(0%);
      }
      /* Main content padding to account for sidebar */
      .main-content {
        margin-left: 220px;
        padding: 20px;
      }
      /* Close Button styling */
      .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        background: none;
        border: none;
        color: #f4e7d3;
        font-size: 1.5em;
        cursor: pointer;
        display: none; /* Hidden on larger screens */
      }
      /* Responsive adjustments */
      @media (max-width: 768px) {
        .sidebar {
          width: 40%;
          height: 70%;
          position: fixed;
          transform: translateX(-100%);
        }
        .sidebar-toggle {
          display: block;
        }
        .main-content {
          margin-left: 0;
        }
        .close-btn {
          display: block;
        }
      }
    </style>
  </head>
  <body>
    <!-- Toggle Button for Sidebar -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">☰ Menu</button>

    <!-- Sidebar Navigation -->
    <div class="sidebar" id="sidebar">
      <h4 class="text-center text-light">Menu</h4>
      <button class="close-btn" onclick="toggleSidebar()">✕</button>
      <a href="#appetizers">Appetizers</a>
      <a href="#sandwiches">Vietnamese Sandwiches</a>
      <a href="#bun">Bun - Vermicelli Noodles</a>
      <a href="#pho">Pho - Vietnamese Noodle Soup</a>
      <!-- Add more links as needed -->
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="container text-center my-5">
        <div class="title-text">
          <h1 class="display-4">Yummy Pho</h1>
          <h2>Traditional & Vegetarian</h2>
          <h2>Vietnamese Cuisine</h2>
          <p class="lead">(425) 498-2288</p>
          <h3>Business Hours</h3>
          <p>Everyday: 11am - 9pm</p>
          <p>8900 161st Ave. NE Suite#145, Redmond, WA 98052</p>
        </div>
      </div>

      <div class="container my-5">
        <hr />
        <h1 class="text-center">Restaurant Menu</h1>
        <hr />
      </div>

      <!-- Appetizers Section -->
      <div class="container my-5" id="appetizers">
        <h2 class="category-title text-center pb-4">Appetizers</h2>
        <div class="row">
          <!-- First Item with price injection -->
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100">
              <img class="card-img-top" src="img/th.jpg" alt="Salad Rolls" />
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">1. Salad Rolls (2 pieces)</h5>
                <p class="card-text">
                  Lettuce, basil, bean sprout & vermicelli noodles. Served w/
                  peanut sauce.
                </p>
                <p class="card-text">Choice of shrimp or tofu.</p>
                <p class="text-accent mt-auto price" data-item="saladRolls"></p>
                <!-- Price injected here -->
              </div>
            </div>
          </div>
          <!-- Additional items omitted for brevity -->
        </div>
      </div>

      <!-- Sandwiches Section -->
      <div class="container my-5" id="sandwiches">
        <h2 class="category-title text-center pb-4">Vietnamese Sandwiches</h2>
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100">
              <img
                class="card-img-top"
                src="img/banh_mi.jpg"
                alt="Vietnamese Sandwich"
              />
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">Vietnamese Sandwiches</h5>
                <p class="card-text">
                  Mayonnaise, cucumber, pickled carrot, cilantro & jalapeno
                </p>
                <ul>
                  <li>Grilled Chicken</li>
                  <li>Grilled Pork</li>
                  <li>Tofu</li>
                </ul>
                <p
                  class="text-accent mt-auto price"
                  data-item="vietnameseSandwich"
                ></p>
                <p class="extras">
                  Extra: Egg
                  <span class="price extra-price" data-item="extraEgg"></span> /
                  Meat
                  <span class="price extra-price" data-item="extraMeat"></span>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr />

    <!-- Footer -->
    <footer class="text-white text-center py-4">
      <p>
        &copy; <span id="currentYear"></span> by YummyPho. Published on:
        <span id="publishDate"></span>
      </p>
      <p>
        *Consuming raw or undercooked meats, poultry, seafood, shellfish, or egg
        may increase your risk of foodborne illness.
      </p>
      <p>**You may find beef hair in tendon.</p>
      <p>Prices are subject to change.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Set current year and today's date
      document.getElementById("currentYear").textContent =
        new Date().getFullYear();

      // Toggle Sidebar
      function toggleSidebar() {
        document.getElementById("sidebar").classList.toggle("hidden");
      }

      // Close sidebar when clicking outside of it
      document.addEventListener("click", function (event) {
        const sidebar = document.getElementById("sidebar");
        const toggleButton = document.querySelector(".sidebar-toggle");

        // Check if click is outside sidebar and toggle button
        if (
          !sidebar.contains(event.target) &&
          !toggleButton.contains(event.target)
        ) {
          sidebar.classList.remove("hidden");
        }
      });

      // Load prices from JSON file and insert them into HTML
      fetch("prices.json")
        .then((response) => response.json())
        .then((data) => {
          document.querySelectorAll(".price").forEach((element) => {
            const itemKey = element.getAttribute("data-item");
            element.textContent = data[itemKey] || "Price Unavailable";
          });
        })
        .catch((error) => console.error("Error loading prices:", error));
    </script>
  </body>
</html>
